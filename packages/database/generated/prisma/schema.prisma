generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model user {
  id             Int             @id @default(autoincrement())
  name           String
  email          String          @unique
  isActive       Boolean         @default(false)
  createAt       DateTime
  updateAt       DateTime        @default(now())
  balances       balance[]
  total_winnings total_winning[]
  chips          chip[]
  total_Tables   table[]

  @@index([email, id])
}

model balance {
  id       Int      @id @default(autoincrement())
  amount   Int
  user_id  Int
  user_ids user     @relation(references: [id], fields: [user_id])
  createAt DateTime
  updateAt DateTime @default(now())

  @@index([user_id])
}

model total_winning {
  id       Int      @id @default(autoincrement())
  count    Int
  user_id  Int
  user_ids user     @relation(references: [id], fields: [user_id])
  createAt DateTime
  updateAt DateTime @default(now())

  @@index([user_id])
}

model chip {
  id       Int      @id @default(autoincrement())
  count    Int
  user_id  Int
  user_ids user     @relation(references: [id], fields: [user_id])
  createAt DateTime
  updateAt DateTime @default(now())

  @@index([user_id])
}

model table {
  id            Int      @id @default(autoincrement())
  winning_count Int
  lose_count    Int
  user_id       Int
  user_ids      user     @relation(references: [id], fields: [user_id])
  createAt      DateTime
  updateAt      DateTime @default(now())

  @@index([user_id])
}
